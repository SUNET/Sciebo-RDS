{{ if (.Params.mermaid) }}
<script>
  // disable code block for mermaid
  jQuery(document).ready(function () {
    $("code.language-mermaid").each(function (index, element) {
      var content = $(element).html().replace(/&amp;/g, "&");
      $(element)
        .parent()
        .replaceWith(
          '<div class="mermaid" align="center">' + content + "</div>"
        );
    });
  });
</script>
<script src="{{ .Site.BaseURL }}js/mermaid.min.js"></script>
<script>
  var config = {
    logLevel: 0,
    startOnLoad: true,
    flowchart: {
      useMaxWidth: true,
      curve: "basis",
    },
    themeCSS:
      ".label { font-family: Source Sans Pro,Helvetica Neue,Arial,sans-serif; }",
  };
  mermaid.initialize(config, ".language-mermaid");
</script>
{{ end }}
